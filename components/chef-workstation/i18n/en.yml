# Shared and top-level CLI output text.
cli:
  # CLI option, banner, and usage text
  banner: |
    Congratulations! You are using chef: your gateway
    to managing everything from a single node to an entire Chef
    infrastructure.

    USAGE:
      chef [SUBCOMMAND]
  aborted: Canceling request due to interrupt.
  alias_for: "Alias for: "
  aliases: "ALIASES:"
  config: Location of config file. Defaults to %1
  creating_config: "Creating config file in %1."
  help: "Show usage information"
  print_version: "Chef Workstation Version: %1\n\n"
  short_banner: "Usage:  chef COMMAND [options...]"
  subcommands: "SUBCOMMANDS:"
  target: ""
  version: "Show the current version of this tool"
  version_msg: "Version %1"

# Text specific to each command
commands:
  config:
    description: Manage Chef Workstation configuration
    usage: |
      USAGE:
        chef config [SUBCOMMAND]
    show:
      description: Echo out Chef Workstation configuration to stdout
      usage: |
        USAGE:
          chef config show [FLAGS]
      source: "Config loaded from %1path %2."
  target:
    description: Manage a target
    usage: |
      USAGE:
        chef target [SUBCOMMAND]
    converge:
      description: Converge a target
      usage: |
        USAGE:
          chef target converge <TARGET> <RESOURCE> <RESOURCE_NAME> [PROPERTIES] [FLAGS]
            Converge the specified <TARGET> with the single <RESOURCE>. [PROPERTIES]
            should be specified as key=value. EG:

            chef target converge myec2node directory /tmp/test mode="0777" action=create

          chef target converge <TARGET> <RECIPE> [FLAGS]
            Converge the specified <TARGET> with the single recipe located at
            <RECIPE>.

            chef target converge myec2node path/to/cookbook/recipe.rb
            chef target converge myec2node path/to/cookbook
            chef target converge myec2node cookbook_name
            chef target converge myec2node cookbook_name::recipe_name

        ARGS:
          <TARGET>          The host or IP address to converge. Can also be an SSH or WinRM URL
                            in the form:

                            ssh://[USERNAME]@example.com[:PORT]
          <RESOURCE>        A Chef resource, such as 'user' or 'package'
          <RESOURCE_NAME>   The name, usually used to specify what 'thing' to set up with
                            the resource. For example, given resource 'user', 'name' would be
                            the name of the user you wanted to create.
          <RECIPE>          The recipe to converge. This can be provided as one of:
                            1. Full path to a recipe file
                            2. Cookbook name. First we check the working directory for this
                               cookbook, then we check in the chef repo path. If a cookbook
                               is found we run the default recipe.
                            3. Cookbook and recipe name. Same as 2 but we run the specified
                               recipe instead of the default recipe.
      root_description: "Whether to use root permissions on the target. Defaults to true."
      identity_file: "SSH identity file to use when connecting."
      ssl:
        desc: "Use SSL for WinRM. Current default: %1"
        verify_desc: |
          Verify peer certificate when using SSL for WinRM
          Use --ssl-no-verify when using SSL for WinRM and
          the remote host is using a self-signed certificate.
          Current default: %1
  base:
    status:
      connecting: "Connecting..."
      connected: "Connected."
      connection_failed: "Connection failed: %1"

# Status updates shared across commands.
status:
  install:
    installing: Installing Chef client.
    downloading: Downloading Chef client installer.
    uploading: Uploading Chef client installer.
    checking_for_client: Checking for Chef client.
    verifying: Verifying Chef client installation.
    already_present: Client already present on system.
    success: "Chef client installation completed!"
    failure: "An error occurred while installing Chef client: %1"
  converge:
    converging_recipe: Converging local recipe %1 on target...
    converging_resource: Converging %1 on target...
    success: "Successfully converged target!"
    failure: "Failed to converge target."

# Error definitions, usage Text.e.ERR999
# General format:
# First Line: brief description of the error
# Second line: blank
# Third+ : detailed description, max 76 characters per line
errors:
  # Installer action errors
  CHEFINS001: |
    '%1' is not a supported target operating system at this time.

    We plan to support a wide range of target operating systems,
    but during this targeted pre-release we are constraining our efforts
    to Windows and Linux.

  # Remote execution and file operation errors are prefixed CHEFRMT
  CHEFRMT001: |
    The command '%1' exited with return code '%2' on '%3'.

    The following error was reported:

      %4

  # Remote chef client run failure start here.
  CHEFCCR001: |
    Could not determine reason for converge failure.

    STDOUT (may be blank)

      %1

    STDERR (may be blank)

      %2

    An error occurred while converging the remote host.
    I was unable to retrieve the log file which would allow
    me to provide more information.  Above is the output
    that occurred while trying to retrieve the remote log file.

  CHEFCCR002: |
    The converge of the remote host failed for the
    following reason:

      %1

  CHEFCCR003: |
    The action '%1' is not valid.

    Valid actions are:

      %2

    For more information, please consult the documentation
    for this resource:

      https://docs.chef.io/resource_reference.html

  CHEFCCR004: |
    A property value you provided is not valid:

      %1

    Please consult the documentation for properties
    supported by your resource and their valid values:

      https://docs.chef.io/resource_reference.html

  CHEFCCR005: |
    '%1' is not a valid Chef resource.

    Please consult the documentation for a list of valid resources:

      https://docs.chef.io/resource_reference.html

  CHEFCCR006: |
    '%1' is not a property of '%2'.

    Please consult the documentation for %2 for a list of
    valid properties:

      https://docs.chef.io/resource_reference.html


  CHEFCCR099: |
    The converge of the remote host failed.

    Please examine the log file for a detailed cause of failure.

  # Train-related errors (connectivy, auth failure, etc)
  # are prefixed CHEFTRN. Non-specific descendants of Train::Error
  # will resolve to CHEFTRN001, and we can add additional
  # more specific text as we need it.
  CHEFTRN001: |
    An error has occurred on the %1 connection to %2:

    %2.
  CHEFTRN002: |
    An remote error has occurred:

      %1.

  # Errors that originate out of the CLI itself
  CHEFCLI001: |
    The command '%1' does not exist.

      Available commands are: %2

  # CLI Validation errors are prefixed with CHEFVAL
  CHEFVAL001: |
    No identity file at '%1'

  CHEFVAL002: |
    You must supply <TARGET> and either <RESOURCE> and <RESOURCE_NAME> or <RECIPE>

  CHEFVAL003: |
    Property '%1' did not match the 'key=value' syntax required

  CHEFVAL004: |
    Please provide a recipe in the form 'path/to/recipe/file.rb',
    'path/to/cookbook', 'cookbook_name' or 'cookbook_name::recipe_name'.

    You provided '%1'.

  CHEFVAL005: |


  # General errors/unknown errors are handled with CHEFINT
  CHEFINT001: |
    An unexpected error has occurred:

      %1

  # Maps to: NameError
  CHEFNET001: |
    A network error occurred:

      %1

    Please verify the host name or address is correct and that the host is
    reachable before trying again.

  # Remote chef client run failure start here.
  CHEFUPL001: |
    Uploading local recipe '%1' to target failed.

  CHEFUPL002: |
    Uploading resource to target failed.

  # Maps to: SSL::SSLError with message text indicating verification failure
  CHEFNET002: |
    SSL host verification failed.

    I could not verify the identity of the remote host.

    If you are certain that you are connecting to the correct host,
    you can specify the '--no-ssl-verify' option for this command, or
    make it the default by setting the following in your configuration:

      [connection.winrm]
      ssl_verify=false

  footer:
    both: |
      If you are not able to resolve this issue, please contact Chef support
      at beta@chef.io and include the log file and strack trace from the
      locations below:

        %1
        %2

    log_only:  |
      If you are not able to resolve this issue, please contact Chef support
      at beta@chef.io and include the log file from the location below:
        %1

    stack_only:  |
      If you are not able to resolve this issue, please contact Chef support
      at beta@chef.io and include the stack trace from the location below:
        %1

    neither:  |
      If you are not able to resolve this issue, please contact Chef support
      at beta@chef.io
